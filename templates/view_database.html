{% extends "base.html" %}
{% block title %} Database Content {% endblock %}
{% block content %}

<style>
table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 35px;
    background: white;
}
th, td {
    border: 1px solid #ccc;
    padding: 6px 10px;
    font-size: 14px;
}
th {
    background: #333;
    color: white;
}
.section-title {
    margin-top: 40px;
    margin-bottom: 10px;
}
</style>

<h1>ðŸ“Š Complete Database Viewer</h1>
<p>This page displays all records from your entire database.</p>

{% macro render_table(title, items) %}
<h2 class="section-title">{{ title }}</h2>

{% if items|length == 0 %}
    <p><i>No data found.</i></p>
{% else %}
    <table>
        <tr>
        {% for col in items[0].__table__.columns %}
            <th>{{ col.name }}</th>
        {% endfor %}
        </tr>

        {% for row in items %}
        <tr>
            {% for col in row.__table__.columns %}
                <td>{{ row[col.name] }}</td>
            {% endfor %}
        </tr>
        {% endfor %}
    </table>
{% endif %}
{% endmacro %}


<!-- AUTO GENERATES TABLES FOR ALL MODELS -->
{{ render_table("Users", data.users) }}
{{ render_table("Terminals", data.terminals) }}
{{ render_table("Jeepneys", data.jeepneys) }}
{{ render_table("Terminal Queue (TerminalJeepneys)", data.terminal_queue) }}
{{ render_table("Trips", data.trips) }}
{{ render_table("Seat Records", data.seats) }}
{{ render_table("Routes", data.routes) }}
{{ render_table("User Favorites", data.favorites) }}
{{ render_table("Notifications", data.notifications) }}
{{ render_table("Audit Logs", data.auditlogs) }}

{% endblock %}

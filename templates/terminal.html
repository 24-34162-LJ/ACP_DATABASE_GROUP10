{% extends "base.html" %}
{% block title %}Add Terminal{% endblock %}

{% block head %}
<style>
/* Lightweight, form-focused styles — safe even without Bootstrap */
.terminal-container {
  min-height: 72vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 28px;
}
.terminal-card {
  width: 100%;
  max-width: 560px;
  background: #fff;
  border-radius: 12px;
  padding: 22px;
  box-shadow: 0 10px 30px rgba(13,24,40,0.06);
  border: 1px solid rgba(2,6,23,0.04);
}
.terminal-card h2 {
  margin: 0 0 6px 0;
  font-size: 1.25rem;
  color: #0f172a;
}
.terminal-card p.lead {
  margin: 0 0 16px 0;
  color: #55616a;
  font-size: 0.95rem;
}

.form-row { margin-bottom: 12px; }
.form-label { display:block; font-weight:600; margin-bottom:6px; color:#111827; font-size:0.95rem; }
input[type="text"], textarea, select {
  width:100%;
  padding:10px 12px;
  border-radius:8px;
  border:1px solid rgba(15,23,42,0.06);
  font-size:0.95rem;
  outline:none;
  box-sizing:border-box;
}
input[type="text"]:focus, textarea:focus, select:focus {
  border-color:#2563eb;
  box-shadow: 0 8px 20px rgba(37,99,235,0.06);
}

.form-actions {
  margin-top: 16px;
  display:flex;
  gap:10px;
  justify-content: flex-end;
  align-items:center;
}
.btn-primary {
  background: linear-gradient(90deg,#2563eb,#1e40af);
  color: white;
  border: none;
  padding: 9px 14px;
  border-radius: 10px;
  font-weight: 600;
  cursor: pointer;
}
.btn-secondary {
  background: transparent;
  border: 1px solid rgba(15,23,42,0.06);
  padding: 8px 12px;
  border-radius: 10px;
  cursor: pointer;
}
.help-text {
  font-size: 0.85rem;
  color: #6b7280;
  margin-top:6px;
}

/* small screens */
@media (max-width:560px) {
  .terminal-card { padding:16px; border-radius:10px; }
  .form-actions { flex-direction: column-reverse; gap:8px; align-items:stretch; }
}
</style>
{% endblock %}

{% block content %}
<div class="terminal-container">
  <div class="terminal-card">
    <h2>➕ Add New Terminal</h2>
    <p class="lead">Create a new terminal entry. Fill the details below and click <strong>Save</strong>.</p>

    <form method="post" novalidate>
      {{ form.hidden_tag() }}

      <div class="form-row">
        <label class="form-label" for="{{ form.terminal_name.id }}">Terminal name</label>
        {{ form.terminal_name(class="") }}
        {% if form.terminal_name.errors %}
          <div class="help-text" style="color:#ef4444;">{{ form.terminal_name.errors[0] }}</div>
        {% else %}
          <div class="help-text">Example: "Lipa City Terminal" or "Main Terminal - Batangas".</div>
        {% endif %}
      </div>

      <div class="form-row">
        <label class="form-label" for="{{ form.location.id }}">Location</label>
        {{ form.location(class="") }}
        {% if form.location.errors %}
          <div class="help-text" style="color:#ef4444;">{{ form.location.errors[0] }}</div>
        {% else %}
          <div class="help-text">Short address or description (barangay, city).</div>
        {% endif %}
      </div>

      <div class="form-row">
        <label class="form-label" for="{{ form.route_name.id }}">Route name (optional)</label>
        {{ form.route_name(class="") }}
        <div class="help-text">If this terminal is tied to a route, add a friendly route name (e.g., "Lipa ↔ Batangas City").</div>
      </div>

      <div class="form-actions">
        <a href="{{ url_for('map_view') }}" class="btn-secondary" style="text-decoration:none; color:inherit; display:inline-flex; align-items:center; gap:8px;">
          ← Back to Map
        </a>

        {{ form.submit(class="btn-primary") }}
      </div>
    </form>
  </div>
</div>

<script>
// small nicety: focus the first input
document.addEventListener('DOMContentLoaded', ()=> {
  const el = document.getElementById("{{ form.terminal_name.id }}");
  if(el) el.focus();
});
</script>
{% endblock %}
